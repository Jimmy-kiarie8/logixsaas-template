import{K as w,L as Fe,M as Ve,N as Ue,o as He,f as Qe,a as m,t as ee,n as Ke,O as We,P as Ze}from"./app-d02c39e6.js";import{i as k,p as he,e as Xe,l as Je}from"./index-8367094d.js";import{m as A}from"./mapbox-gl-b26c6dbe.js";/* empty css                  */import{_ as Ye}from"./_plugin-vue_export-helper-c27b6911.js";var de={exports:{}};(function(e,t){(function(){var n={};e.exports=n,n.simpleFilter=function(i,r){return r.filter(function(o){return n.test(i,o)})},n.test=function(i,r){return n.match(i,r)!==null},n.match=function(i,r,o){o=o||{};var s=0,a=[],u=r.length,h=0,d=0,p=o.pre||"",E=o.post||"",L=o.caseSensitive&&r||r.toLowerCase(),O;i=o.caseSensitive&&i||i.toLowerCase();for(var R=0;R<u;R++)O=r[R],L[R]===i[s]?(O=p+O+E,s+=1,d+=1+d):d=0,h+=d,a[a.length]=O;return s===i.length?(h=L===i?1/0:h,{rendered:a.join(""),score:h}):null},n.filter=function(i,r,o){return!r||r.length===0?[]:typeof i!="string"?r:(o=o||{},r.reduce(function(s,a,u,h){var d=a;o.extract&&(d=o.extract(a));var p=n.match(i,d,o);return p!=null&&(s[s.length]={string:p.rendered,score:p.score,index:u,original:a}),s},[]).sort(function(s,a){var u=a.score-s.score;return u||s.index-a.index}))}})()})(de);var et=de.exports,v=function(e){return this.component=e,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};v.prototype.show=function(){this.element.style.display="block"};v.prototype.hide=function(){this.element.style.display="none"};v.prototype.add=function(e){this.items.push(e)};v.prototype.clear=function(){this.items=[],this.active=0};v.prototype.isEmpty=function(){return!this.items.length};v.prototype.isVisible=function(){return this.element.style.display==="block"};v.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()};v.prototype.drawItem=function(e,t){var n=document.createElement("li"),i=document.createElement("a");t&&(n.className+=" active"),i.innerHTML=e.string,n.appendChild(i),this.element.appendChild(n),n.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),n.addEventListener("mouseup",(function(){this.handleMouseUp.call(this,e)}).bind(this))};v.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()};v.prototype.move=function(e){this.active=e,this.draw()};v.prototype.previous=function(){this.move(this.active===0?this.items.length-1:this.active-1)};v.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)};v.prototype.drawError=function(e){var t=document.createElement("li");t.innerHTML=e,this.element.appendChild(t),this.show()};var tt=v,nt=k,it=et,rt=tt,g=function(e,t,n){return n=n||{},this.options=nt({minLength:2,limit:5,filter:!0,hideOnBlur:!0},n),this.el=e,this.data=t||[],this.list=new rt(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",(function(i){this.handleKeyUp(i.keyCode)}).bind(this),!1),this.el.addEventListener("keydown",(function(i){this.handleKeyDown(i)}).bind(this)),this.el.addEventListener("focus",(function(){this.handleFocus()}).bind(this)),this.el.addEventListener("blur",(function(){this.handleBlur()}).bind(this)),this.el.addEventListener("paste",(function(i){this.handlePaste(i)}).bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};g.prototype.handleKeyUp=function(e){e===40||e===38||e===27||e===13||e===9||this.handleInputChange(this.el.value)};g.prototype.handleKeyDown=function(e){switch(e.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&e.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}};g.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()};g.prototype.handlePaste=function(e){if(e.clipboardData)this.handleInputChange(e.clipboardData.getData("Text"));else{var t=this;setTimeout(function(){t.handleInputChange(e.target.value)},100)}};g.prototype.handleInputChange=function(e){if(this.query=this.normalize(e),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates((function(t){for(var n=0;n<t.length&&(this.list.add(t[n]),n!==this.options.limit-1);n++);this.list.draw()}).bind(this))};g.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1};g.prototype.update=function(e){this.data=e,this.handleKeyUp()};g.prototype.clear=function(){this.data=[],this.list.clear()};g.prototype.normalize=function(e){return e=e.toLowerCase(),e};g.prototype.match=function(e,t){return e.indexOf(t)>-1};g.prototype.value=function(e){if(this.selected=e,this.el.value=this.getItemValue(e),document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),this.el.dispatchEvent(t)}else this.el.fireEvent("onchange")};g.prototype.getCandidates=function(e){var t={pre:"<strong>",post:"</strong>",extract:(function(i){return this.getItemValue(i)}).bind(this)},n;this.options.filter?(n=it.filter(this.query,this.data,t),n=n.map((function(i){return{original:i.original,string:this.render(i.original,i.string)}}).bind(this))):n=this.data.map((function(i){var r=this.render(i);return{original:i,string:r}}).bind(this)),e(n)};g.prototype.getItemValue=function(e){return e};g.prototype.render=function(e,t){if(t)return t;for(var n=e.original?this.getItemValue(e.original):this.getItemValue(e),i=this.normalize(n),r=i.lastIndexOf(this.query);r>-1;){var o=r+this.query.length;n=n.slice(0,r)+"<strong>"+n.slice(r,o)+"</strong>"+n.slice(o),r=i.slice(0,r).lastIndexOf(this.query)}return n};g.prototype.renderError=function(e){this.list.drawError(e)};var st=g,fe=st,ot=fe;typeof window<"u"&&(window.Suggestions=fe);var at="Expected a function",te=0/0,ut="[object Symbol]",lt=/^\s+|\s+$/g,ct=/^[-+]0x[0-9a-f]+$/i,ht=/^0b[01]+$/i,dt=/^0o[0-7]+$/i,ft=parseInt,pt=typeof w=="object"&&w&&w.Object===Object&&w,gt=typeof self=="object"&&self&&self.Object===Object&&self,mt=pt||gt||Function("return this")(),vt=Object.prototype,yt=vt.toString,_t=Math.max,bt=Math.min,D=function(){return mt.Date.now()};function Et(e,t,n){var i,r,o,s,a,u,h=0,d=!1,p=!1,E=!0;if(typeof e!="function")throw new TypeError(at);t=ne(t)||0,U(n)&&(d=!!n.leading,p="maxWait"in n,o=p?_t(ne(n.maxWait)||0,t):o,E="trailing"in n?!!n.trailing:E);function L(f){var y=i,M=r;return i=r=void 0,h=f,s=e.apply(M,y),s}function O(f){return h=f,a=setTimeout(I,t),d?L(f):s}function R(f){var y=f-u,M=f-h,Y=t-y;return p?bt(Y,o-M):Y}function X(f){var y=f-u,M=f-h;return u===void 0||y>=t||y<0||p&&M>=o}function I(){var f=D();if(X(f))return J(f);a=setTimeout(I,R(f))}function J(f){return a=void 0,E&&i?L(f):(i=r=void 0,s)}function De(){a!==void 0&&clearTimeout(a),h=0,i=u=r=a=void 0}function $e(){return a===void 0?s:J(D())}function z(){var f=D(),y=X(f);if(i=arguments,r=this,u=f,y){if(a===void 0)return O(u);if(p)return a=setTimeout(I,t),L(u)}return a===void 0&&(a=setTimeout(I,t)),s}return z.cancel=De,z.flush=$e,z}function U(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function xt(e){return!!e&&typeof e=="object"}function wt(e){return typeof e=="symbol"||xt(e)&&yt.call(e)==ut}function ne(e){if(typeof e=="number")return e;if(wt(e))return te;if(U(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=U(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(lt,"");var n=ht.test(e);return n||dt.test(e)?ft(e.slice(2),n?2:8):ct.test(e)?te:+e}var Lt=Et,H={exports:{}},C=typeof Reflect=="object"?Reflect:null,ie=C&&typeof C.apply=="function"?C.apply:function(t,n,i){return Function.prototype.apply.call(t,n,i)},q;C&&typeof C.ownKeys=="function"?q=C.ownKeys:Object.getOwnPropertySymbols?q=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:q=function(t){return Object.getOwnPropertyNames(t)};function Ot(e){console&&console.warn&&console.warn(e)}var pe=Number.isNaN||function(t){return t!==t};function c(){c.init.call(this)}H.exports=c;H.exports.once=Tt;c.EventEmitter=c;c.prototype._events=void 0;c.prototype._eventsCount=0;c.prototype._maxListeners=void 0;var re=10;function G(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return re},set:function(e){if(typeof e!="number"||e<0||pe(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");re=e}});c.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};c.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||pe(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function ge(e){return e._maxListeners===void 0?c.defaultMaxListeners:e._maxListeners}c.prototype.getMaxListeners=function(){return ge(this)};c.prototype.emit=function(t){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);var r=t==="error",o=this._events;if(o!==void 0)r=r&&o.error===void 0;else if(!r)return!1;if(r){var s;if(n.length>0&&(s=n[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[t];if(u===void 0)return!1;if(typeof u=="function")ie(u,this,n);else for(var h=u.length,d=be(u,h),i=0;i<h;++i)ie(d[i],this,n);return!0};function me(e,t,n,i){var r,o,s;if(G(n),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),s===void 0)s=o[t]=n,++e._eventsCount;else if(typeof s=="function"?s=o[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),r=ge(e),r>0&&s.length>r&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,Ot(a)}return e}c.prototype.addListener=function(t,n){return me(this,t,n,!1)};c.prototype.on=c.prototype.addListener;c.prototype.prependListener=function(t,n){return me(this,t,n,!0)};function Rt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ve(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=Rt.bind(i);return r.listener=n,i.wrapFn=r,r}c.prototype.once=function(t,n){return G(n),this.on(t,ve(this,t,n)),this};c.prototype.prependOnceListener=function(t,n){return G(n),this.prependListener(t,ve(this,t,n)),this};c.prototype.removeListener=function(t,n){var i,r,o,s,a;if(G(n),r=this._events,r===void 0)return this;if(i=r[t],i===void 0)return this;if(i===n||i.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,i.listener||n));else if(typeof i!="function"){for(o=-1,s=i.length-1;s>=0;s--)if(i[s]===n||i[s].listener===n){a=i[s].listener,o=s;break}if(o<0)return this;o===0?i.shift():Ct(i,o),i.length===1&&(r[t]=i[0]),r.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this};c.prototype.off=c.prototype.removeListener;c.prototype.removeAllListeners=function(t){var n,i,r;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[t]),this;if(arguments.length===0){var o=Object.keys(i),s;for(r=0;r<o.length;++r)s=o[r],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=i[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(r=n.length-1;r>=0;r--)this.removeListener(t,n[r]);return this};function ye(e,t,n){var i=e._events;if(i===void 0)return[];var r=i[t];return r===void 0?[]:typeof r=="function"?n?[r.listener||r]:[r]:n?St(r):be(r,r.length)}c.prototype.listeners=function(t){return ye(this,t,!0)};c.prototype.rawListeners=function(t){return ye(this,t,!1)};c.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):_e.call(e,t)};c.prototype.listenerCount=_e;function _e(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}c.prototype.eventNames=function(){return this._eventsCount>0?q(this._events):[]};function be(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function Ct(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function St(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function Tt(e,t){return new Promise(function(n,i){function r(s){e.removeListener(t,o),i(s)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",r),n([].slice.call(arguments))}Ee(e,t,o,{once:!0}),t!=="error"&&Mt(e,r,{once:!0})})}function Mt(e,t,n){typeof e.on=="function"&&Ee(e,"error",t,n)}function Ee(e,t,n,i){if(typeof e.on=="function")i.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function r(o){i.once&&e.removeEventListener(t,r),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var kt=H.exports,It={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}};function At(e){var t=e.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return t?{key:t[1],value:t[2]}:null}function Pt(e){var t=e.match(/<?([^>]*)>(.*)/);if(!t)return null;var n=t[1],i=t[2].split(";"),r=null,o=i.reduce(function(s,a){var u=At(a);return u?u.key==="rel"?(r||(r=u.value),s):(s[u.key]=u.value,s):s},{});return r?{url:n,rel:r,params:o}:null}function qt(e){return e?e.split(/,\s*</).reduce(function(t,n){var i=Pt(n);if(!i)return t;var r=i.rel.split(/\s+/);return r.forEach(function(o){t[o]||(t[o]={url:i.url,params:i.params})}),t},{}):{}}var Bt=qt,Nt=Bt;function Q(e,t){this.request=e,this.headers=t.headers,this.rawBody=t.body,this.statusCode=t.statusCode;try{this.body=JSON.parse(t.body||"{}")}catch{this.body=t.body}this.links=Nt(this.headers.link)}Q.prototype.hasNextPage=function(){return!!this.links.next};Q.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null};var Gt=Q,j={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"},se=j;function jt(e){var t=e.type||se.ERROR_HTTP,n;if(e.body)try{n=JSON.parse(e.body)}catch{n=e.body}else n=null;var i=e.message||null;i||(typeof n=="string"?i=n:n&&typeof n.message=="string"?i=n.message:t===se.ERROR_REQUEST_ABORTED&&(i="Request aborted")),this.message=i,this.type=t,this.statusCode=e.statusCode||null,this.request=e.request,this.body=n}var zt=jt;function Dt(e){var t=e.indexOf(":"),n=e.substring(0,t).trim().toLowerCase(),i=e.substring(t+1).trim();return{name:n,value:i}}function $t(e){var t={};return e&&e.trim().split(/[\r|\n]+/).forEach(function(n){var i=Dt(n);t[i.name]=i.value}),t}var Ft=$t,Vt=Gt,oe=zt,$=j,Ut=Ft,B={};function Ht(e){var t=B[e.id];t&&(t.abort(),delete B[e.id])}function Qt(e,t){return new Vt(e,{body:t.response,headers:Ut(t.getAllResponseHeaders()),statusCode:t.status})}function ae(e){var t=e.total,n=e.loaded,i=100*n/t;return{total:t,transferred:n,percent:i}}function xe(e,t){return new Promise(function(n,i){t.onprogress=function(s){e.emitter.emit($.EVENT_PROGRESS_DOWNLOAD,ae(s))};var r=e.file;r&&(t.upload.onprogress=function(s){e.emitter.emit($.EVENT_PROGRESS_UPLOAD,ae(s))}),t.onerror=function(s){i(s)},t.onabort=function(){var s=new oe({request:e,type:$.ERROR_REQUEST_ABORTED});i(s)},t.onload=function(){if(delete B[e.id],t.status<200||t.status>=400){var s=new oe({request:e,body:t.response,statusCode:t.status});i(s);return}n(t)};var o=e.body;typeof o=="string"?t.send(o):o?t.send(JSON.stringify(o)):r?t.send(r):t.send(),B[e.id]=t}).then(function(n){return Qt(e,n)})}function we(e,t){var n=e.url(t),i=new window.XMLHttpRequest;return i.open(e.method,n),Object.keys(e.headers).forEach(function(r){i.setRequestHeader(r,e.headers[r])}),i}function Kt(e){return Promise.resolve().then(function(){var t=we(e,e.client.accessToken);return xe(e,t)})}var Wt={browserAbort:Ht,sendRequestXhr:xe,browserSend:Kt,createRequestXhr:we};function Zt(e){return e.map(encodeURIComponent).join(",")}function Le(e){return Array.isArray(e)?Zt(e):encodeURIComponent(String(e))}function Oe(e,t,n){if(n===!1||n===null)return e;var i=/\?/.test(e)?"&":"?",r=encodeURIComponent(t);return n!==void 0&&n!==""&&n!==!0&&(r+="="+Le(n)),""+e+i+r}function Xt(e,t){if(!t)return e;var n=e;return Object.keys(t).forEach(function(i){var r=t[i];r!==void 0&&(Array.isArray(r)&&(r=r.filter(function(o){return o!=null}).join(",")),n=Oe(n,i,r))}),n}function Jt(e,t){if(!t||e.slice(0,4)==="http")return e;var n=e[0]==="/"?"":"/";return""+t.replace(/\/$/,"")+n+e}function Yt(e,t){return t?e.replace(/\/:([a-zA-Z0-9]+)/g,function(n,i){var r=t[i];if(r===void 0)throw new Error("Unspecified route parameter "+i);var o=Le(r);return"/"+o}):e}var en={appendQueryObject:Xt,appendQueryParam:Oe,prependOrigin:Jt,interpolateRouteParams:Yt},tn=he,K=k,nn=Xe,P=en,ue=j,rn=1;function b(e,t){if(!e)throw new Error("MapiRequest requires a client");if(!t||!t.path||!t.method)throw new Error("MapiRequest requires an options object with path and method properties");var n={};t.body&&(n["content-type"]="application/json");var i=K(n,t.headers),r=Object.keys(i).reduce(function(o,s){return o[s.toLowerCase()]=i[s],o},{});this.id=rn++,this._options=t,this.emitter=new nn,this.client=e,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=t.path,this.method=t.method,this.origin=t.origin||e.origin,this.query=t.query||{},this.params=t.params||{},this.body=t.body||null,this.file=t.file||null,this.encoding=t.encoding||"utf8",this.sendFileAs=t.sendFileAs||null,this.headers=r}b.prototype.url=function(t){var n=P.prependOrigin(this.path,this.origin);n=P.appendQueryObject(n,this.query);var i=this.params,r=t??this.client.accessToken;if(r){n=P.appendQueryParam(n,"access_token",r);var o=tn(r).user;i=K({ownerId:o},i)}return n=P.interpolateRouteParams(n,i),n};b.prototype.send=function(){var t=this;if(t.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return t.sent=!0,t.client.sendRequest(t).then(function(n){return t.response=n,t.emitter.emit(ue.EVENT_RESPONSE,n),n},function(n){throw t.error=n,t.emitter.emit(ue.EVENT_ERROR,n),n})};b.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),!(this.response||this.error||this.aborted)&&(this.aborted=!0,this.client.abortRequest(this))};b.prototype.eachPage=function(t){var n=this;function i(s){function a(){delete n._nextPageRequest;var u=s.nextPage();u&&(n._nextPageRequest=u,o(u))}t(null,s,a)}function r(s){t(s,null,function(){})}function o(s){s.send().then(i,r)}o(this)};b.prototype.clone=function(){return this._extend()};b.prototype._extend=function(t){var n=K(this._options,t);return new b(this.client,n)};var sn=b,on=he,an=sn,un=j;function Re(e){if(!e||!e.accessToken)throw new Error("Cannot create a client without an access token");on(e.accessToken),this.accessToken=e.accessToken,this.origin=e.origin||un.API_ORIGIN}Re.prototype.createRequest=function(t){return new an(this,t)};var Ce=Re,Se=Wt,Te=Ce;function T(e){Te.call(this,e)}T.prototype=Object.create(Te.prototype);T.prototype.constructor=T;T.prototype.sendRequest=Se.browserSend;T.prototype.abortRequest=Se.browserAbort;function ln(e){return new T(e)}var Me=ln,cn=Me,hn=cn,dn=k,S=Je;function fn(e){if(typeof window<"u")return e instanceof w.Blob||e instanceof w.ArrayBuffer?void 0:"Blob or ArrayBuffer";if(!(typeof e=="string"||e.pipe!==void 0))return"Filename or Readable stream"}function pn(e,t){return S.assert(S.strictShape(e),t)}function gn(e){var t="date";if(typeof e=="boolean")return t;try{var n=new Date(e);if(n.getTime&&isNaN(n.getTime()))return t}catch{return t}}function mn(e){return S.tuple(S.number,S.number)(e)}var vn=dn(S,{file:fn,date:gn,coordinates:mn,assertShape:pn});function yn(e,t){var n=function(i,r){return t.indexOf(i)!==-1&&r!==void 0};return typeof t=="function"&&(n=t),Object.keys(e).filter(function(i){return n(i,e[i])}).reduce(function(i,r){return i[r]=e[r],i},{})}var _n=yn;function bn(e,t){return Object.keys(e).reduce(function(n,i){return n[i]=t(i,e[i]),n},{})}var En=bn,xn=En;function wn(e){return xn(e,function(t,n){return typeof n=="boolean"?JSON.stringify(n):n})}var Ln=wn,On=Ce,Rn=Me;function Cn(e){return function(t){var n;On.prototype.isPrototypeOf(t)?n=t:n=Rn(t);var i=Object.create(e);return i.client=n,i}}var Sn=Cn,ke=k,l=vn,N=_n,Ie=Ln,Tn=Sn,W={},Ae=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];W.forwardGeocode=function(e){l.assertShape({query:l.required(l.string),mode:l.oneOf("mapbox.places","mapbox.places-permanent"),countries:l.arrayOf(l.string),proximity:l.oneOf(l.coordinates,"ip"),types:l.arrayOf(l.oneOf(Ae)),autocomplete:l.boolean,bbox:l.arrayOf(l.number),limit:l.number,language:l.arrayOf(l.string),routing:l.boolean,fuzzyMatch:l.boolean,worldview:l.string})(e),e.mode=e.mode||"mapbox.places";var t=Ie(ke({country:e.countries},N(e,["proximity","types","autocomplete","bbox","limit","language","routing","fuzzyMatch","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:N(e,["mode","query"]),query:t})};W.reverseGeocode=function(e){l.assertShape({query:l.required(l.coordinates),mode:l.oneOf("mapbox.places","mapbox.places-permanent"),countries:l.arrayOf(l.string),types:l.arrayOf(l.oneOf(Ae)),bbox:l.arrayOf(l.number),limit:l.number,language:l.arrayOf(l.string),reverseMode:l.oneOf("distance","score"),routing:l.boolean,worldview:l.string})(e),e.mode=e.mode||"mapbox.places";var t=Ie(ke({country:e.countries},N(e,["country","types","bbox","limit","language","reverseMode","routing","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:N(e,["mode","query"]),query:t})};var Mn=Tn(W);let kn="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Pe=e=>crypto.getRandomValues(new Uint8Array(e)),qe=(e,t,n)=>{let i=(2<<Math.log(e.length-1)/Math.LN2)-1,r=-~(1.6*i*t/e.length);return(o=t)=>{let s="";for(;;){let a=n(r),u=r;for(;u--;)if(s+=e[a[u]&i]||"",s.length===o)return s}}},In=(e,t=21)=>qe(e,t,Pe),An=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const Pn=Object.freeze(Object.defineProperty({__proto__:null,customAlphabet:In,customRandom:qe,nanoid:An,random:Pe,urlAlphabet:kn},Symbol.toStringTag,{value:"Module"})),qn=Fe(Pn);var Bn=qn.nanoid;function Be(e){this.origin=e.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=e.accessToken,this.version="0.2.0",this.sessionID=this.generateSessionID(),this.userAgent=this.getUserAgent(),this.options=e,this.send=this.send.bind(this),this.countries=e.countries?e.countries.split(","):null,this.types=e.types?e.types.split(","):null,this.bbox=e.bbox?e.bbox:null,this.language=e.language?e.language.split(","):null,this.limit=e.limit?+e.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(e),this.eventQueue=new Array,this.flushInterval=e.flushInterval||1e3,this.maxQueueSize=e.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}Be.prototype={select:function(e,t){var n=this.getSelectedIndex(e,t),i=this.getEventPayload("search.select",t);if(i.resultIndex=n,i.resultPlaceName=e.place_name,i.resultId=e.id,!(n===this.lastSentIndex&&i.queryString===this.lastSentInput||n==-1)&&(this.lastSentIndex=n,this.lastSentInput=i.queryString,!!i.queryString))return this.push(i)},start:function(e){var t=this.getEventPayload("search.start",e);if(t.queryString)return this.push(t)},keyevent:function(e,t){if(e.key&&!(e.metaKey||[9,27,37,39,13,38,40].indexOf(e.keyCode)!==-1)){var n=this.getEventPayload("search.keystroke",t);if(n.lastAction=e.key,!!n.queryString)return this.push(n)}},send:function(e,t){if(!this.enableEventLogging)return t?t():void 0;var n=this.getRequestOptions(e);this.request(n,(function(i){if(i)return this.handleError(i,t);if(t)return t()}).bind(this))},getRequestOptions:function(e){Array.isArray(e)||(e=[e]);var t={method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return t},getEventPayload:function(e,t){var n;t.options.proximity?typeof t.options.proximity=="object"?n=[t.options.proximity.longitude,t.options.proximity.latitude]:t.options.proximity==="ip"?n=[999,999]:n=t.options.proximity:n=null;var i=t._map?t._map.getZoom():void 0,r={event:e,created:+new Date,sessionIdentifier:this.sessionID,country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",autocomplete:t.options.autocomplete,fuzzyMatch:t.options.fuzzyMatch,proximity:n,limit:t.options.limit,routing:t.options.routing,worldview:t.options.worldview,mapZoom:i,keyboardLocale:this.locale};return e==="search.select"?r.queryString=t.inputString:e!="search.select"&&t._inputEl?r.queryString=t._inputEl.value:r.queryString=t.inputString,r},request:function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(this.readyState==4)return this.status==204?t(null):t(this.statusText)},n.open(e.method,e.host+"/"+e.path,!0);for(var i in e.headers){var r=e.headers[i];n.setRequestHeader(i,r)}n.send(e.body)},handleError:function(e,t){if(t)return t(e)},generateSessionID:function(){return Bn()},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(e,t){if(t._typeahead){var n=t._typeahead.data,i=e.id,r=n.map(function(s){return s.id}),o=r.indexOf(i);return o}},shouldEnableLogging:function(e){return!(e.enableEventLogging===!1||e.origin&&e.origin!=="https://api.mapbox.com"||e.localGeocoder||e.filter)},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(e,t){this.eventQueue.push(e),(this.eventQueue.length>=this.maxQueueSize||t)&&this.flush()},remove:function(){this.flush()}};var Nn=Be,Gn={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"לחפש",ja:"サーチ",lv:"Meklēt",pt:"Procurar",sr:"Претрага",zh:"搜索",cs:"Vyhledávání",hu:"Keresés",ka:"ძიება",nb:"Søke",sk:"Vyhľadávanie",th:"ค้นหา",fi:"Hae",is:"Leita",ko:"수색",pl:"Szukaj",sl:"Iskanje",fa:"جستجو",ru:"Поиск"},jn={placeholder:Gn},Ne={exports:{}};(function(e){(function(t,n,i){e.exports?e.exports=i():t[n]=i()})(w,"subtag",function(){var t="",n=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function i(u){return u.match(n)||[]}function r(u){return i(u).filter(function(h,d){return h&&d})}function o(u){return u=i(u),{language:u[1]||t,extlang:u[2]||t,script:u[3]||t,region:u[4]||t}}function s(u,h,d){Object.defineProperty(u,h,{value:d,enumerable:!0})}function a(u,h,d){function p(E){return i(E)[u]||t}s(p,"pattern",h),s(o,d,p)}return a(1,/^[a-zA-Z]{2,3}$/,"language"),a(2,/^[a-zA-Z]{3}$/,"extlang"),a(3,/^[a-zA-Z]{4}$/,"script"),a(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),s(o,"split",r),o})})(Ne);var zn=Ne.exports;function Ge(){}Ge.prototype={isSupport:function(){return!!window.navigator.geolocation},getCurrentPosition:function(){const e={enableHighAccuracy:!0};return new Promise(function(t,n){window.navigator.geolocation.getCurrentPosition(t,n,e)})}};var Dn=Ge;function $n(e,t){const n=je(e),i=["address","street","place","country"];var r;if(typeof t=="function")return t(n);const o=i.indexOf(t);return o===-1?r=i:r=i.slice(o),r.reduce(function(s,a){return n[a]?(s!==""&&(s=s+", "),s+n[a]):s},"")}function je(e){const t=e.address||"",n=e.text||"",i=e.place_name||"",o={address:i.split(",")[0],houseNumber:t,street:n,placeName:i};return e.context.forEach(function(s){const a=s.id.split(".")[0];o[a]=s.text}),o}const Fn=/^[ ]*(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)[ ]*$/;var Vn={transformFeatureToGeolocationText:$n,getAddressInfo:je,REVERSE_GEOCODE_COORD_RGX:Fn},Un=ot,Hn=Lt,x=k,Qn=kt.EventEmitter,le=It,F=hn,V=Mn,Kn=Nn,Wn=jn,Zn=zn,Xn=Dn,ce=Vn;const _={FORWARD:0,LOCAL:1,REVERSE:2};function Jn(){var e=document.createElement("div");return e.className="mapboxgl-ctrl-geocoder--powered-by",e.innerHTML='<a href="https://www.mapbox.com/search-service" target="_blank">Powered by Mapbox</a>',e}function ze(e){this._eventEmitter=new Qn,this.options=x({},this.options,e),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geolocation=new Xn}ze.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,flipCoordinates:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,enableGeolocation:!1,addressAccuracy:"street",getItemValue:function(e){return e.place_name},render:function(e){var t=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+t[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+t.splice(1,t.length).join(",")+"</div></div>"}},addTo:function(e){function t(n,i){if(!document.body.contains(i))throw new Error("Element provided to #addTo() exists, but is not in the DOM");const r=n.onAdd();i.appendChild(r)}if(e._controlContainer)e.addControl(this);else if(e instanceof HTMLElement)t(this,e);else if(typeof e=="string"){const n=document.querySelectorAll(e);if(n.length===0)throw new Error("Element ",e,"not found.");if(n.length>1)throw new Error("Geocoder can only be added to a single html element");t(this,n[0])}else throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element")},onAdd:function(e){if(e&&typeof e!="string"&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=V(F({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new Kn(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this),this._geolocateUser=this._geolocateUser.bind(this);var t=this.container=document.createElement("div");t.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var n=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",Hn(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",(function(h){this.eventManager.keyevent(h,this)}).bind(this));var i=document.createElement("div");i.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var r=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');if(this._clearEl.appendChild(r),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),i.appendChild(this._clearEl),i.appendChild(this._loadingEl),t.appendChild(n),t.appendChild(this._inputEl),t.appendChild(i),this.options.enableGeolocation&&this.geolocation.isSupport()){this._geolocateEl=document.createElement("button"),this._geolocateEl.setAttribute("aria-label","Geolocate"),this._geolocateEl.addEventListener("click",this._geolocateUser),this._geolocateEl.className="mapboxgl-ctrl-geocoder--button";var o=this.createIcon("geolocate",'<path d="M12.999 3.677L2.042 8.269c-.962.403-.747 1.823.29 1.912l5.032.431.431 5.033c.089 1.037 1.509 1.252 1.912.29l4.592-10.957c.345-.822-.477-1.644-1.299-1.299z" fill="#4264fb"/>');this._geolocateEl.appendChild(o),i.appendChild(this._geolocateEl),this._showGeolocateButton()}var s=this._typeahead=new Un(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit});this.setRenderFunction(this.options.render),s.getItemValue=this.options.getItemValue;var a=s.list.draw,u=this._footerNode=Jn();return s.list.draw=function(){a.call(this),u.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),u.addEventListener("mouseup",(function(){this.selectingListItem=!1}).bind(this)),this.element.appendChild(u)},this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),t},_geolocateUser:function(){this._hideGeolocateButton(),this._showLoadingIcon(),this.geolocation.getCurrentPosition().then((function(e){this._hideLoadingIcon();const t={geometry:{type:"Point",coordinates:[e.coords.longitude,e.coords.latitude]}};this._handleMarker(t),this._fly(t),this._typeahead.clear(),this._typeahead.selected=!0,this.lastSelected=JSON.stringify(t),this._showClearButton(),this.fresh=!1;const n={limit:1,language:[this.options.language],query:t.geometry.coordinates,types:["address"]};if(this.options.localGeocoderOnly){const i=t.geometry.coordinates[0]+","+t.geometry.coordinates[1];this._setInputValue(i),this._eventEmitter.emit("result",{result:t})}else this.geocoderService.reverseGeocode(n).send().then((function(i){const r=i.body.features[0];if(r){const o=ce.transformFeatureToGeolocationText(r,this.options.addressAccuracy);this._setInputValue(o),r.user_coordinates=t.geometry.coordinates,this._eventEmitter.emit("result",{result:r})}else this._eventEmitter.emit("result",{result:{user_coordinates:t.geometry.coordinates}})}).bind(this))}).bind(this)).catch((function(e){e.code===1?this._renderUserDeniedGeolocationError():this._renderLocationError(),this._hideLoadingIcon(),this._showGeolocateButton(),this._hideAttribution()}).bind(this))},createIcon:function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+e),n.setAttribute("viewBox","0 0 18 18"),n.setAttribute("xml:space","preserve"),n.setAttribute("width",18),n.setAttribute("height",18),n.innerHTML=t,n},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_setInputValue:function(e){this._inputEl.value=e,setTimeout((function(){this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0)}).bind(this),1)},_onPaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");t.length>=this.options.minLength&&this._geocode(t)},_onKeyDown:function(e){var t=27,n=9;if(e.keyCode===t&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();var i=e.target&&e.target.shadowRoot?e.target.shadowRoot.activeElement:e.target,r=i?i.value:"";if(!r)return this.fresh=!0,e.keyCode!==n&&this.clear(e),this._showGeolocateButton(),this._hideClearButton();this._hideGeolocateButton(),!(e.metaKey||[n,t,37,39,13,38,40].indexOf(e.keyCode)!==-1)&&i.value.length>=this.options.minLength&&this._geocode(i.value)},_showButton:function(){this._typeahead.selected&&this._showClearButton()},_hideButton:function(){this._typeahead.selected&&this._hideClearButton()},_showClearButton:function(){this._clearEl.style.display="block"},_hideClearButton:function(){this._clearEl.style.display="none"},_showGeolocateButton:function(){this._geolocateEl&&this.geolocation.isSupport()&&(this._geolocateEl.style.display="block")},_hideGeolocateButton:function(){this._geolocateEl&&(this._geolocateEl.style.display="none")},_showLoadingIcon:function(){this._loadingEl.style.display="block"},_hideLoadingIcon:function(){this._loadingEl.style.display="none"},_showAttribution:function(){this._footerNode.style.display="block"},_hideAttribution:function(){this._footerNode.style.display="none"},_onBlur:function(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()},_onChange:function(){var e=this._typeahead.selected;e&&JSON.stringify(e)!==this.lastSelected&&(this._hideClearButton(),this.options.flyTo&&this._fly(e),this.options.marker&&this._mapboxgl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._eventEmitter.emit("result",{result:e}),this.eventManager.select(e,this))},_fly:function(e){var t;if(e.properties&&le[e.properties.short_code])t=x({},this.options.flyTo),this._map&&this._map.fitBounds(le[e.properties.short_code].bbox,t);else if(e.bbox){var n=e.bbox;t=x({},this.options.flyTo),this._map&&this._map.fitBounds([[n[0],n[1]],[n[2],n[3]]],t)}else{var i={zoom:this.options.zoom};t=x({},i,this.options.flyTo),e.center?t.center=e.center:e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(t.center=e.geometry.coordinates),this._map&&this._map.flyTo(t)}},_requestType:function(e,t){var n;return e.localGeocoderOnly?n=_.LOCAL:e.reverseGeocode&&ce.REVERSE_GEOCODE_COORD_RGX.test(t)?n=_.REVERSE:n=_.FORWARD,n},_setupConfig:function(e,t){const n=["bbox","limit","proximity","countries","types","language","reverseMode","mode","autocomplete","fuzzyMatch","routing","worldview"],i=/[\s,]+/;var r=this,o=n.reduce(function(a,u){if(r.options[u]===void 0||r.options[u]===null)return a;["countries","types","language"].indexOf(u)>-1?a[u]=r.options[u].split(i):a[u]=r.options[u];const h=typeof r.options[u].longitude=="number"&&typeof r.options[u].latitude=="number";if(u==="proximity"&&h){const d=r.options[u].longitude,p=r.options[u].latitude;a[u]=[d,p]}return a},{});switch(e){case _.REVERSE:{var s=t.split(i).map(function(a){return parseFloat(a,10)});r.options.flipCoordinates||s.reverse(),o.types&&o.types[0],o=x(o,{query:s,limit:1}),["proximity","autocomplete","fuzzyMatch","bbox"].forEach(function(a){a in o&&delete o[a]})}break;case _.FORWARD:{const a=t.trim();/^(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)?$/.test(a)&&(t=t.replace(/,/g," ")),o=x(o,{query:t})}break}return o},_geocode:function(e){this.inputString=e,this._showLoadingIcon(),this._eventEmitter.emit("loading",{query:e});const t=this._requestType(this.options,e),n=this._setupConfig(t,e);var i;switch(t){case _.LOCAL:i=Promise.resolve();break;case _.FORWARD:i=this.geocoderService.forwardGeocode(n).send();break;case _.REVERSE:i=this.geocoderService.reverseGeocode(n).send();break}var r=this.options.localGeocoder?this.options.localGeocoder(e)||[]:[],o=[],s=null;return i.catch((function(a){s=a}).bind(this)).then((function(a){this._hideLoadingIcon();var u={};return a?a.statusCode=="200"&&(u=a.body,u.request=a.request,u.headers=a.headers):u={type:"FeatureCollection",features:[]},u.config=n,this.fresh&&(this.eventManager.start(this),this.fresh=!1),u.features=u.features?r.concat(u.features):r,this.options.externalGeocoder?(o=this.options.externalGeocoder(e,u.features)||Promise.resolve([]),o.then(function(h){return u.features=u.features?h.concat(u.features):h,u},function(){return u})):u}).bind(this)).then((function(a){if(s)throw s;this.options.filter&&a.features.length&&(a.features=a.features.filter(this.options.filter)),a.features.length?(this._showClearButton(),this._hideGeolocateButton(),this._showAttribution(),this._eventEmitter.emit("results",a),this._typeahead.update(a.features)):(this._hideClearButton(),this._hideAttribution(),this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",a))}).bind(this)).catch((function(a){this._hideLoadingIcon(),this._hideAttribution(),r.length&&this.options.localGeocoder||o.length&&this.options.externalGeocoder?(this._showClearButton(),this._hideGeolocateButton(),this._typeahead.update(r)):(this._hideClearButton(),this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:r}),this._eventEmitter.emit("error",{error:a})}).bind(this)),i},_clear:function(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._hideClearButton(),this._showGeolocateButton(),this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(e){this._clear(e),this._inputEl.focus()},_clearOnBlur:function(e){var t=this;e.relatedTarget&&t._clear(e)},_onQueryResult:function(e){var t=e.body;if(t.features.length){var n=t.features[0];this._typeahead.selected=n,this._inputEl.value=n.place_name,this._onChange()}},_updateProximity:function(){if(!(!this._map||!this.options.trackProximity))if(this._map.getZoom()>9){var e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat},!1)}else this.setProximity(null,!1)},_collapse:function(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(e){return this._geocode(e).then(this._onQueryResult),this},_renderError:function(){var e="<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>";this._renderMessage(e)},_renderLocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>A location error has occurred</div>";this._renderMessage(e)},_renderNoResults:function(){var e="<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>";this._renderMessage(e)},_renderUserDeniedGeolocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>Geolocation permission denied</div>";this._renderMessage(e)},_renderMessage:function(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var e=this.options.language.split(",")[0],t=Zn.language(e),n=Wn.placeholder[t];if(n)return n}return"Search"},setInput:function(e,t){return t===void 0&&(t=!1),this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&(t?this._geocode(e):this._onChange()),this},setProximity:function(e,t=!0){return this.options.proximity=e,t&&(this.options.trackProximity=!1),this},getProximity:function(){return this.options.proximity},setRenderFunction:function(e){return e&&typeof e=="function"&&(this._typeahead.render=e),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(e){var t=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=e||this.options.language||t,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(e){return this.options.zoom=e,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(e){return this.options.flyTo=e,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(e){return this.options.placeholder=e||this._getPlaceholderText(),this._inputEl.placeholder=this.options.placeholder,this._inputEl.setAttribute("aria-label",this.options.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(e){return this.options.bbox=e,this},getCountries:function(){return this.options.countries},setCountries:function(e){return this.options.countries=e,this},getTypes:function(){return this.options.types},setTypes:function(e){return this.options.types=e,this},getMinLength:function(){return this.options.minLength},setMinLength:function(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.options.minLength=e),this},getLimit:function(){return this.options.limit},setLimit:function(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this},getFilter:function(){return this.options.filter},setFilter:function(e){return this.options.filter=e,this},setOrigin:function(e){return this.options.origin=e,this.geocoderService=V(F({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},setAccessToken:function(e){return this.options.accessToken=e,this.geocoderService=V(F({accessToken:this.options.accessToken,origin:this.options.origin})),this},setAutocomplete:function(e){return this.options.autocomplete=e,this},getAutocomplete:function(){return this.options.autocomplete},setFuzzyMatch:function(e){return this.options.fuzzyMatch=e,this},getFuzzyMatch:function(){return this.options.fuzzyMatch},setRouting:function(e){return this.options.routing=e,this},getRouting:function(){return this.options.routing},setWorldview:function(e){return this.options.worldview=e,this},getWorldview:function(){return this.options.worldview},_handleMarker:function(e){if(this._map){this._removeMarker();var t={color:"#4668F2"},n=x({},t,this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(n),e.center?this.mapMarker.setLngLat(e.center).addTo(this._map):e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(e,t){return this._eventEmitter.on(e,t),this},off:function(e,t){return this._eventEmitter.removeListener(e,t),this.eventManager.remove(),this}};var Yn=ze;const ei=Ve(Yn);const ti={data(){return{loading:!1,location:"",access_token:"pk.eyJ1IjoiamltbGFyYXZlbCIsImEiOiJjbDdydXA5djkwaXR2M3FwMmxwc2h3YjdqIn0.rgDAW_8AKT6dHtGHXX1DtQ",center:[36.828167203867835,-1.2918808498502665],map:{}}},mounted(){this.createMap()},methods:{async createMap(){try{A.accessToken=this.access_token,this.map=new A.Map({container:"map",style:"mapbox://styles/mapbox/streets-v12",center:this.center,zoom:11});let e=new ei({accessToken:this.access_token,mapboxgl:A,marker:!1});this.map.addControl(e),e.on("result",t=>{const n=new A.Marker({draggable:!0,color:"#D80739"}).setLngLat(t.result.center).addTo(this.map);this.center=t.result.center,n.on("dragend",i=>{this.center=Object.values(i.target.getLngLat())})})}catch(e){console.log("map error",e)}},async getLocation(){try{this.loading=!0;const e=await Ue.get(`https://api.mapbox.com/geocoding/v5/mapbox.places/${this.center[0]},${this.center[1]}.json?access_token=${this.access_token}`);this.loading=!1,this.location=e.data.features[0].place_name}catch(e){this.loading=!1,console.log(e)}},copyLocation(){this.location&&(navigator.clipboard.writeText(this.location),alert("Location Copied"))}}},Z=e=>(We("data-v-0d146336"),e=e(),Ze(),e),ni={class:"main"},ii={class:"flex"},ri=Z(()=>m("div",{class:"map-holder"},[m("div",{id:"map"})],-1)),si={class:"dislpay-arena"},oi={class:"coordinates-header"},ai=Z(()=>m("h3",null,"Current Coordinates",-1)),ui={class:"coordinates-header"},li=Z(()=>m("h3",null,"Current Location",-1)),ci={class:"form-group"},hi=["value"],di=["disabled"];function fi(e,t,n,i,r,o){return He(),Qe("div",ni,[m("div",ii,[ri,m("div",si,[m("div",oi,[ai,m("p",null,"Latitude: "+ee(r.center[0]),1),m("p",null,"Longitude: "+ee(r.center[1]),1)]),m("div",ui,[li,m("div",ci,[m("input",{type:"text",class:"location-control",value:r.location,readonly:""},null,8,hi),m("button",{type:"button",class:"copy-btn",onClick:t[0]||(t[0]=(...s)=>o.copyLocation&&o.copyLocation(...s))}," Copy ")]),m("button",{type:"button",disabled:r.loading,class:Ke([{disabled:r.loading},"location-btn"]),onClick:t[1]||(t[1]=(...s)=>o.getLocation&&o.getLocation(...s))}," Get Location ",10,di)])])])])}const _i=Ye(ti,[["render",fi],["__scopeId","data-v-0d146336"]]);export{_i as default};
